spring:
  application:
    name: hku-ai-agent
  profiles:
    active: local
  # 保持数据源注释（测试阶段不用PgVector）
  #  datasource:
  #    url: xxx
  #    username: root
  #    password: 123456
  ai: # 关键修复：删除重复的 spring: 节点，ai 直接作为 spring 的子节点
    dashscope:
      api-key: sk-7c5df1fd31cf48a1a8113d4a3bcbde40 # 替换为你的真实API-Key（已保留原key，无需修改）
      chat:
        model: qwen-turbo  # 对话模型（RAG首选）
        temperature: 0.1   # 低温度保证回答精准
      embedding:
        model: text-embedding-v3  # 嵌入模型（适配向量存储）
        dimensions: 1536          # 向量维度（与SimpleVectorStore兼容）
    # 注释ollama配置（避免与DashScope冲突）
    # ollama:
    #   base-url: https://dashscope.aliyuncs.com/compatible-mode/v1
    #   chat:
    #     model: text-embedding-v3
  # 保持MCP、PgVector注释（测试阶段不用）
  #    mcp:
  #      client:
  #        sse:
  #          connections:
  #            server1:
  #              url: http://localhost:8127
  #        stdio:
  #          servers-configuration: classpath:mcp-servers.json
  #    vectorstore:
  #      pgvector:
  #        index-type: HNSW
  #        dimensions: 1536
  #        distance-type: COSINE_DISTANCE
  #        max-document-batch-size: 10000

server:
  port: 8123
  servlet:
    context-path: /api

# springdoc-openapi config（无需修改）
springdoc:
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha
  api-docs:
    path: /v3/api-docs
  group-configs:
    - group: 'default'
      paths-to-match: '/**'
  packages-to-scan: com.hku.hkuaiagent.controller

# knife4j config（无需修改）
knife4j:
  enable: true
  setting:
    language: zh_cn

# searchAPI（暂时注释，未用到相关功能）
# search-api:
#   api-key: 你的 API Key

# 日志配置（DEBUG级别便于调试RAG流程）
logging:
  level:
    org.springframework.ai: DEBUG

# 启用本地RAG（必须为true）
hku:
  ai:
    rag:
      enabled: true